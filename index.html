<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Funny Character</title>
    <style>
      #canvas {
        border: 1px solid black;
      }
    </style>
  </head>
  <body>
    <div>
      <label for="input-text">Enter your text:</label>
      <input type="text" id="input-text" />
      <button id="submit-btn">Submit</button>
    </div>
    <canvas id="canvas" width="500" height="500"></canvas>
    <script>
      // Get canvas and context
      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');

      // Define character
      const character = {
        x: 100,
        y: 100,
        speed: 5,
        direction: 'right',
        color: 'blue',
        size: 50,
      };

      // Define function to draw character
      function drawCharacter() {
        ctx.fillStyle = character.color;
        ctx.fillRect(character.x, character.y, character.size, character.size);
      }

      // Define function to handle user input
      function handleInput() {
        const inputText = document.getElementById('input-text').value;
        switch (inputText) {
          case 'up':
            character.direction = 'up';
            break;
          case 'down':
            character.direction = 'down';
            break;
          case 'left':
            character.direction = 'left';
            break;
          case 'right':
            character.direction = 'right';
            break;
          default:
            break;
        }
      }

      // Define function to update character position
      function updateCharacter() {
        switch (character.direction) {
          case 'up':
            character.y -= character.speed;
            break;
          case 'down':
            character.y += character.speed;
            break;
          case 'left':
            character.x -= character.speed;
            break;
          case 'right':
            character.x += character.speed;
            break;
          default:
            break;
        }
      }

      // Define function to clear canvas
      function clearCanvas() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
      }

      // Define main game loop
      function gameLoop() {
        clearCanvas();
        drawCharacter();
        updateCharacter();
        requestAnimationFrame(gameLoop);
      }

      // Set up event listener for button click
      const submitBtn = document.getElementById('submit-btn');
      submitBtn.addEventListener('click', function() {
        handleInput();
      });

      // Start game loop
      gameLoop();
    </script>
  </body>
</html>
